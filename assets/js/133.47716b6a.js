(window.webpackJsonp=window.webpackJsonp||[]).push([[133],{571:function(a,s,t){"use strict";t.r(s);var r=t(2),e=Object(r.a)({},(function(){var a=this,s=a._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h3",{attrs:{id:"_1-引言"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-引言"}},[a._v("#")]),a._v(" 1. 引言")]),a._v(" "),s("p",[a._v("在现代 JavaScript 开发中，模块化和代码分割已经成为提高应用性能和可维护性的核心部分。为了满足这些需求，许多打包工具应运而生，其中 Rollup 以其专注于构建高效模块和产出更小体积的代码成为开发者的热门选择。Rollup 尤其适用于构建类库和应用程序，它专注于 ES 模块的打包，并且输出非常干净、可读性好的代码。")]),a._v(" "),s("p",[a._v("在本篇文章中，我们将深入了解 Rollup 的核心功能、其与 Webpack 等工具的区别，以及如何快速开始使用它构建你的项目。")]),a._v(" "),s("hr"),a._v(" "),s("h3",{attrs:{id:"_2-什么是-rollup"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-什么是-rollup"}},[a._v("#")]),a._v(" 2. 什么是 Rollup？")]),a._v(" "),s("p",[a._v("Rollup 是一个 JavaScript 模块打包工具，它的设计目标是将多文件的 ES 模块系统打包成单个文件。它以简洁的构建方式和优秀的 Tree-shaking 功能为特色，能够有效去除项目中的冗余代码，并减少最终输出的体积，从而提升应用的加载速度。")]),a._v(" "),s("h4",{attrs:{id:"_2-1-rollup-的核心特点"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-rollup-的核心特点"}},[a._v("#")]),a._v(" 2.1 Rollup 的核心特点：")]),a._v(" "),s("ul",[s("li",[s("p",[s("strong",[a._v("Tree-shaking 支持")]),a._v("：Rollup 通过静态分析代码，自动去除未使用的部分，使得最终输出的包大小更小。")])]),a._v(" "),s("li",[s("p",[s("strong",[a._v("ES 模块优先")]),a._v("：专注于使用原生 ES 模块 (ESM)，与现代浏览器直接兼容，符合未来的发展趋势。")])]),a._v(" "),s("li",[s("p",[s("strong",[a._v("插件系统")]),a._v("：Rollup 提供了一个强大的插件系统，支持各种功能扩展，如处理非 JavaScript 文件、集成 Babel 等。")])]),a._v(" "),s("li",[s("p",[s("strong",[a._v("多种输出格式")]),a._v("：可以生成适用于多种环境的输出格式，如 CommonJS、UMD、ES Module 等，这使得类库的发布变得更灵活。")])])]),a._v(" "),s("hr"),a._v(" "),s("h3",{attrs:{id:"_3-rollup-与-webpack-的区别"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-rollup-与-webpack-的区别"}},[a._v("#")]),a._v(" 3. Rollup 与 Webpack 的区别")]),a._v(" "),s("p",[a._v("Rollup 和 Webpack 都是现代 JavaScript 打包工具，但它们各有侧重。Webpack 更加适合应用程序打包，支持更复杂的项目配置和加载器。而 Rollup 则以简洁、易用、专注于打包类库而著称。以下是两者的主要区别：")]),a._v(" "),s("h4",{attrs:{id:"_3-1-打包方式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-打包方式"}},[a._v("#")]),a._v(" 3.1 打包方式")]),a._v(" "),s("p",[a._v("Webpack 使用动态依赖解析，允许多种模块系统的支持。而 Rollup 专注于 ES 模块的静态分析，这使得 Rollup 的代码输出更加简洁，适合类库开发。")]),a._v(" "),s("h4",{attrs:{id:"_3-2-tree-shaking"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-tree-shaking"}},[a._v("#")]),a._v(" 3.2 Tree-shaking")]),a._v(" "),s("p",[a._v("虽然 Webpack 也支持 Tree-shaking，但 Rollup 的 Tree-shaking 在处理 ES 模块时更加高效。它能够去除未引用的代码片段，输出更加精简的最终包。")]),a._v(" "),s("h4",{attrs:{id:"_3-3-配置简洁性"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-配置简洁性"}},[a._v("#")]),a._v(" 3.3 配置简洁性")]),a._v(" "),s("p",[a._v("与 Webpack 相比，Rollup 的配置文件非常简洁，并且不需要太多的插件来实现基本的功能。对于简单的类库项目，Rollup 通常可以实现开箱即用的体验。")]),a._v(" "),s("hr"),a._v(" "),s("h3",{attrs:{id:"_4-如何快速上手-rollup"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-如何快速上手-rollup"}},[a._v("#")]),a._v(" 4. 如何快速上手 Rollup？")]),a._v(" "),s("h4",{attrs:{id:"_4-1-安装-rollup"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-安装-rollup"}},[a._v("#")]),a._v(" 4.1 安装 Rollup")]),a._v(" "),s("p",[a._v("首先，在项目中安装 Rollup：")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" --save-dev rollup\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h4",{attrs:{id:"_4-2-创建-rollup-配置文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-创建-rollup-配置文件"}},[a._v("#")]),a._v(" 4.2 创建 Rollup 配置文件")]),a._v(" "),s("p",[a._v("在项目根目录下创建一个 "),s("code",[a._v("rollup.config.js")]),a._v(" 文件，这是 Rollup 的配置文件。在这个文件中，你可以定义输入输出、插件以及打包的目标格式。")]),a._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("export")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("default")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[a._v("input")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'src/index.js'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 入口文件")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[a._v("output")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[a._v("file")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'dist/bundle.js'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 输出文件")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[a._v("format")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'iife'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 输出格式")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[a._v("name")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'MyBundle'")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br")])]),s("h4",{attrs:{id:"_4-3-运行-rollup"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-运行-rollup"}},[a._v("#")]),a._v(" 4.3 运行 Rollup")]),a._v(" "),s("p",[a._v("使用以下命令运行 Rollup，并生成打包后的文件：")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("npx rollup "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--config")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("这将会在 "),s("code",[a._v("dist/")]),a._v(" 文件夹中生成打包好的 JavaScript 文件。")]),a._v(" "),s("hr"),a._v(" "),s("h3",{attrs:{id:"_5-rollup-的优势"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-rollup-的优势"}},[a._v("#")]),a._v(" 5. Rollup 的优势")]),a._v(" "),s("h4",{attrs:{id:"_5-1-更适合类库开发"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-更适合类库开发"}},[a._v("#")]),a._v(" 5.1 更适合类库开发")]),a._v(" "),s("p",[a._v("Rollup 生成的代码相对简洁，特别适合构建 JavaScript 类库。当你需要发布一个类库供他人使用时，Rollup 能够帮你输出体积更小、依赖更少的包。")]),a._v(" "),s("h4",{attrs:{id:"_5-2-高效的-tree-shaking"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-2-高效的-tree-shaking"}},[a._v("#")]),a._v(" 5.2 高效的 Tree-shaking")]),a._v(" "),s("p",[a._v("Rollup 的静态分析能力使得它能够去除未使用的代码，尤其是在处理模块化项目时，Tree-shaking 的效果更加显著。")]),a._v(" "),s("h4",{attrs:{id:"_5-3-多输出格式支持"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-3-多输出格式支持"}},[a._v("#")]),a._v(" 5.3 多输出格式支持")]),a._v(" "),s("p",[a._v("无论是面向现代浏览器的 ES 模块，还是需要支持 CommonJS 环境，Rollup 都能够灵活生成不同的输出文件，满足不同的需求。")]),a._v(" "),s("hr"),a._v(" "),s("h3",{attrs:{id:"_6-结语"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-结语"}},[a._v("#")]),a._v(" 6. 结语")]),a._v(" "),s("p",[a._v("Rollup 作为现代前端开发中一个重要的打包工具，凭借其模块化设计、Tree-shaking 优势和简洁的配置体验，已经在类库开发中占据了一席之地。如果你正在开发一个需要发布的 JavaScript 库，Rollup 无疑是一个值得推荐的选择。")]),a._v(" "),s("p",[a._v("在接下来的博客中，我们将深入探讨 Rollup 的插件系统、如何优化 Rollup 打包过程，以及如何集成 Babel 等工具来处理更复杂的项目。希望这篇入门指南能帮助你快速理解和使用 Rollup，享受其带来的简洁高效的开发体验。")])])}),[],!1,null,null,null);s.default=e.exports}}]);