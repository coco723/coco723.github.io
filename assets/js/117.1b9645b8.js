(window.webpackJsonp=window.webpackJsonp||[]).push([[117],{537:function(a,s,e){"use strict";e.r(s);var t=e(2),n=Object(t.a)({},(function(){var a=this,s=a._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"mac上按转mongodb"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mac上按转mongodb"}},[a._v("#")]),a._v(" Mac上按转mongodb")]),a._v(" "),s("h2",{attrs:{id:"一-更新homebrew包"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一-更新homebrew包"}},[a._v("#")]),a._v(" 一. 更新Homebrew包")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("brew update\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h2",{attrs:{id:"二-安装mongodb"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#二-安装mongodb"}},[a._v("#")]),a._v(" 二. 安装Mongodb")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("brew install mongodb\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("安装需要一些时间，默认安装在/usr/local/Cellar/mongodb/4.0.3_1(我的版本)目录下安装好了，还需要配置一下，否则是无法正常启动服务的")]),a._v(" "),s("h2",{attrs:{id:"三-配置mongodb"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#三-配置mongodb"}},[a._v("#")]),a._v(" 三. 配置mongodb")]),a._v(" "),s("h3",{attrs:{id:"_1-创建一个db目录-用户mongodb写数据"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-创建一个db目录-用户mongodb写数据"}},[a._v("#")]),a._v(" 1. 创建一个db目录，用户mongodb写数据")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("mkdir -p /data/db\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("如果出现 "),s("strong",[a._v("permission denied")]),a._v("，加上"),s("strong",[a._v("sudo")]),a._v("命令：")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("sudo mkdir -p /data/db\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h3",{attrs:{id:"_2-给-data-db-文件夹赋予权限"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-给-data-db-文件夹赋予权限"}},[a._v("#")]),a._v(" 2. 给**/data/db**文件夹赋予权限")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("sudo chown id -u /data/db\n如果出现“illegal user name“的错误提示，这时我们可以查看当前的username并赋予权限：\n$whoami\nusername\n$ sudo chown username /data/db\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br")])]),s("h3",{attrs:{id:"_3-配置mongodb环境配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-配置mongodb环境配置"}},[a._v("#")]),a._v(" 3. 配置mongodb环境配置")]),a._v(" "),s("ul",[s("li",[a._v("打开.zshrc文件")])]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("vim ~/.zshrc\n添加mongodb的安装目录到path中\nexport PATH = /usr/local/Cellar/mongodb/4.0.3_1/bin:${PATH}\n是配置生效\nsource ~/.zshrc\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br")])]),s("ul",[s("li",[a._v("修改mongodb配置文件，配置文件默认在/usr/local/etc下的mongod.conf：")])]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("dbpath = /data/db\n\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br")])]),s("ul",[s("li",[a._v("启动mongod服务")])]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("mognod\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[s("img",{staticClass:"lazy",attrs:{alt:"mongod启动","data-src":"https://upload-images.jianshu.io/upload_images/9403248-6911e7d0be70456e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240",loading:"lazy"}})]),a._v(" "),s("p",[a._v("当出现上图红框中的命令时，就表明服务启动成功了，侦听端口为27017，这是mongod的默认端口，在另外的一个窗口中使用mongo就可以打开客户端：")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("mongo\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("这时候酒客输入数据库命令进行操作了们必入show dbs，可以查看当前的数据库集合")])])}),[],!1,null,null,null);s.default=n.exports}}]);