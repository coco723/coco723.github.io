(window.webpackJsonp=window.webpackJsonp||[]).push([[153],{574:function(a,e,s){"use strict";s.r(e);var t=s(2),r=Object(t.a)({},(function(){var a=this,e=a._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h2",{attrs:{id:"去除音视频中的视频"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#去除音视频中的视频"}},[a._v("#")]),a._v(" 去除音视频中的视频")]),a._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[a._v("ffmpeg "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" ./1573535886182365.mp4 "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-map")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v(":0 "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-vcodec")]),a._v(" copy out.mp4\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("h2",{attrs:{id:"去除音视频中的音频"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#去除音视频中的音频"}},[a._v("#")]),a._v(" 去除音视频中的音频")]),a._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[a._v("ffmpeg "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("1573535886182365")]),a._v(".mp4 "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-vcodec")]),a._v(" copy "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-an")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("2")]),a._v(".mp4\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("h2",{attrs:{id:"视频拼接"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#视频拼接"}},[a._v("#")]),a._v(" 视频拼接")]),a._v(" "),e("p",[a._v("mpg拼接（问题：拼接成功但只显示第一个）")]),a._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[a._v("ffmpeg "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"concat:video1.mpg|video2.mpg"')]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-c")]),a._v(" copy output.mpg\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[a._v("拼接视频不一致的格式时，需要转码")]),a._v(" "),e("p",[a._v("例子：")]),a._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[a._v("ffmpeg "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" out11.mp4 "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-c")]),a._v(" copy "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-bsf:v")]),a._v(" h264_mp4toannexb "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-f")]),a._v(" mpegts intermediate1.ts\n\nffmpeg "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("2")]),a._v(".mp4 "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-c")]),a._v(" copy "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-bsf:v")]),a._v(" h264_mp4toannexb "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-f")]),a._v(" mpegts intermediate2.ts\n\nffmpeg "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"concat:intermediate1.ts|intermediate2.ts"')]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-c")]),a._v(" copy "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-bsf:a")]),a._v(" aac_adtstoasc output.mp4\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br"),e("span",{staticClass:"line-number"},[a._v("5")]),e("br")])]),e("h1",{attrs:{id:"截取音频"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#截取音频"}},[a._v("#")]),a._v(" 截取音频")]),a._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[a._v("ffmpeg "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" out.mp4 "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-ss")]),a._v(" 00:10 "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-t")]),a._v(" 00:40 "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-acodec")]),a._v(" copy out1.mp4\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("h2",{attrs:{id:"将图片转换成视频"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#将图片转换成视频"}},[a._v("#")]),a._v(" 将图片转换成视频")]),a._v(" "),e("ol",[e("li",[a._v("生成.mpg")])]),a._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[a._v("ffmpeg "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" image%3d.jpeg output.mpg\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[a._v("或")]),a._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[a._v("ffmpeg "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-f")]),a._v(" image2 "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" image00%d.jpeg video.mpg\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("ol",{attrs:{start:"2"}},[e("li",[a._v("生成.mp4")])]),a._v(" "),e("p",[a._v("简单的生成")]),a._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[a._v("ffmpeg "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" image%3d.jpeg "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-pix_fmt")]),a._v(" yuv420p a.mp4\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[a._v("-pix_fmt yuv420p")]),a._v(" "),e("p",[a._v("设定参数")]),a._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[a._v("ffmpeg "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-r")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("25")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-loop")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" image%3d.jpeg "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-pix_fmt")]),a._v(" yuv420p "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-vcodec")]),a._v(" libx264 "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-b:v")]),a._v(" 600k "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-r:v")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("25")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-preset")]),a._v(" medium "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-crf")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("30")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-s")]),a._v(" 720x576 "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-vframes")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("250")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-r")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("25")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-t")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("3")]),a._v(" a.mp4\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("h1",{attrs:{id:"将多张图片合成视频"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#将多张图片合成视频"}},[a._v("#")]),a._v(" 将多张图片合成视频")]),a._v(" "),e("ol",[e("li",[a._v("带音频合成：")])]),a._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[a._v("ffmpeg "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-threads")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("2")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-y")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-r")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" image%3d.jpeg  "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" audio.wav "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-pix_fmt")]),a._v(" yuv420p image.mp4\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("ul",[e("li",[a._v("-threads 2: 以两个县城进行运行，加快处理的速度")]),a._v(" "),e("li",[a._v("-y: 对输出文件进行覆盖")]),a._v(" "),e("li",[a._v("-r 10: fps设置为10帧/妙")]),a._v(" "),e("li",[a._v("-absf aac_adtstoasc：编码音频格式，使之能在一些设备上能播放")])]),a._v(" "),e("ol",[e("li",[a._v("不带音频合成")])]),a._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[a._v("ffmpeg "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-loop")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-f")]),a._v(" image2 "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" image%3d.jpeg "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-pix_fmt")]),a._v(" yuv420p "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-vcodec")]),a._v(" libx264 "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-r")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("10")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-t")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("10")]),a._v(" output.mp4\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("h2",{attrs:{id:"将一张图片做成视频封面"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#将一张图片做成视频封面"}},[a._v("#")]),a._v(" 将一张图片做成视频封面")]),a._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[a._v("ffmpeg "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("2")]),a._v(".mp4 "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" image1.png "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-map")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-map")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-c")]),a._v(" copy -c:v:1 png -disposition:v:1 attached_pic output_video.mp4\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("h2",{attrs:{id:"在特定的时间显示图片"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#在特定的时间显示图片"}},[a._v("#")]),a._v(" 在特定的时间显示图片")]),a._v(" "),e("p",[a._v("在0～5秒内显示图片,图片的x坐标为60，否则为-500(移出屏幕)，y坐标一直为50不变")]),a._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[a._v("ffmpeg "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-y")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("1573535886182365")]),a._v(".mp4 "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" t016e3f183704154203.jpg "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-filter_complex")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[a._v("\"overlay=x='if(between(t,0,5),0,-5000)':y=0\"")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-f")]),a._v(" mp4 left3.mp4\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("h2",{attrs:{id:"音频提前或延迟n秒"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#音频提前或延迟n秒"}},[a._v("#")]),a._v(" 音频提前或延迟N秒")]),a._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[a._v("ffmpeg "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("1573535886182365")]),a._v(".mp4 "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-filter_complex")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"adelay=3000|3000"')]),a._v(" revideo.mp4\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("h2",{attrs:{id:"合并音频视频或替换音频流"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#合并音频视频或替换音频流"}},[a._v("#")]),a._v(" 合并音频视频或替换音频流")]),a._v(" "),e("p",[a._v("如果输入的视频已经包含音频，并且想要替换它，需要告诉ffmpeg采取哪个音频流：")]),a._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[a._v("ffmpeg "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" output1.mp4 "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" out.mp4  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("-c:v copy "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-c:a")]),a._v(" aac "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-strict")]),a._v(" experimental "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("-map "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v(":v:0 "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-map")]),a._v("  "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(":a:0 output2.mp4\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("h2",{attrs:{id:"合并音频和视频-给音频重新编码"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#合并音频和视频-给音频重新编码"}},[a._v("#")]),a._v(" 合并音频和视频，给音频重新编码")]),a._v(" "),e("p",[a._v("在这里，我们假定视频文件没有包含任何音频流，并且希望具有与输入格式相同的输出格式(此处为MP4)。")]),a._v(" "),e("p",[a._v("上述命令转码音频，因为MP4不能携带PCM音频流。如果需要，可以使用任何其他所需的音频编解码器")]),a._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[a._v("ffmpeg "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" out.mp4 "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("2")]),a._v(".mp4 "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("-c:v copy "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-c:a")]),a._v(" aac "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-strict")]),a._v(" experimental output.mp4\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("h2",{attrs:{id:"实例"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#实例"}},[a._v("#")]),a._v(" 实例")]),a._v(" "),e("ol",[e("li",[a._v("视频去除音频")])]),a._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[a._v("ffmpeg "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" v4.mp4 "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-vcodec")]),a._v(" copy "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-an")]),a._v(" dv2.mp4\n\nffmpeg "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" v3.mp4 "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-vcodec")]),a._v(" copy "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-an")]),a._v(" dv1.mp4\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br")])]),e("ul",[e("li",[a._v("-i : filename输入文件")]),a._v(" "),e("li",[a._v("-vcodec：vcodec是 -codec:v的一个别称，强制使用codec 编解码方式，未设定时使用与输入流相同的编码器。如果用copy表示原始编解码数据必须被拷贝")]),a._v(" "),e("li",[a._v("-an: 不使用音频记录")])]),a._v(" "),e("ol",[e("li",[a._v("拼接视频")])]),a._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[a._v("ffmpeg "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" dv1.mp4 "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-c")]),a._v(" copy "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-bsf:v")]),a._v(" h264_mp4toannexb "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-f")]),a._v(" mpegts intermediate1.ts\n\n\nffmpeg "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" dv2.mp4 "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-c")]),a._v(" copy "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-bsf:v")]),a._v(" h264_mp4toannexb "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-f")]),a._v(" mpegts intermediate2.ts\n\n\nffmpeg "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"concat:intermediate1.ts|intermediate2.ts"')]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-c:a")]),a._v(" copy "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-bsf:a")]),a._v(" aac_adtstoasc dv12.mp4\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br"),e("span",{staticClass:"line-number"},[a._v("5")]),e("br"),e("span",{staticClass:"line-number"},[a._v("6")]),e("br"),e("span",{staticClass:"line-number"},[a._v("7")]),e("br")])]),e("ul",[e("li",[a._v("-c[:stream_specifier] codec (input/output, per-stream)")])]),a._v(" "),e("ol",{attrs:{start:"3"}},[e("li",[a._v("插入封面图片")])]),a._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[a._v("ffmpeg "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" dv12.mp4 "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" image1.png "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-map")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-map")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-c")]),a._v(" copy -c:v:1 png -disposition:v:1 attached_pic idv12.mp4\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("ol",{attrs:{start:"4"}},[e("li",[a._v("合成音频")])]),a._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[a._v("ffmpeg "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" idv12.mp4  "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" audio.wav "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("-c:v copy "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-c:a")]),a._v(" aac "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-strict")]),a._v(" experimental chen.mp4\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("h2",{attrs:{id:"管道pipe"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#管道pipe"}},[a._v("#")]),a._v(" 管道pipe")]),a._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[a._v("ffmpeg "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-f")]),a._v(" image2 "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-loop")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" img.jpg "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n       "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-f")]),a._v(" s16le "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-ac")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-ar")]),a._v(" 16k "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" wd.pcm "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-t")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("6")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n       "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-f")]),a._v(" nut pipe: "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\nffmpeg "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" audio.mp3 "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n       "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" pipe: "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(".mp4 "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n       "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("2")]),a._v(".mp4 "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("3")]),a._v(".mp4 "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n       "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("4")]),a._v(".mp4 "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n\t"),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-filter_complex")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[a._v("'[1:v]scale=720:1280[in1];\n                   [2:v]scale=720:1280[in2];\n                   [3:v]scale=720:1280[in3];\n                   [4:v]scale=720:1280[in4];\n                   [5:v]scale=720:1280[in5];\n                   [in1][in2][in3][in4][in5] concat=n=5:v=1:a=0 [v];\n                   [0:a][1:a] amix=inputs=2 [a]'")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n\t"),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-map")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[a._v("'[v]'")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-map")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[a._v("'[a]'")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-c:v")]),a._v(" libx264 "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-t")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("30")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-f")]),a._v(" nut pipe: "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\nffmpeg "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" pipe: "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" f.jpg "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n       "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-map")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-map")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-c:v")]),a._v(" libx264 "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-c:a")]),a._v(" aac -c:v:1 png -disposition:v:1 attached_pic result.mp4\n\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br"),e("span",{staticClass:"line-number"},[a._v("5")]),e("br"),e("span",{staticClass:"line-number"},[a._v("6")]),e("br"),e("span",{staticClass:"line-number"},[a._v("7")]),e("br"),e("span",{staticClass:"line-number"},[a._v("8")]),e("br"),e("span",{staticClass:"line-number"},[a._v("9")]),e("br"),e("span",{staticClass:"line-number"},[a._v("10")]),e("br"),e("span",{staticClass:"line-number"},[a._v("11")]),e("br"),e("span",{staticClass:"line-number"},[a._v("12")]),e("br"),e("span",{staticClass:"line-number"},[a._v("13")]),e("br"),e("span",{staticClass:"line-number"},[a._v("14")]),e("br"),e("span",{staticClass:"line-number"},[a._v("15")]),e("br"),e("span",{staticClass:"line-number"},[a._v("16")]),e("br"),e("span",{staticClass:"line-number"},[a._v("17")]),e("br"),e("span",{staticClass:"line-number"},[a._v("18")]),e("br")])]),e("p",[a._v("相关资料：")]),a._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"http://ffmpeg.org/ffmpeg-all.html#Expression-Evaluation",target:"_blank",rel:"noopener noreferrer"}},[a._v("官网"),e("OutboundLink")],1)]),a._v(" "),e("li",[e("a",{attrs:{href:"https://vimsky.com/article/3687.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://vimsky.com/article/3687.html"),e("OutboundLink")],1)]),a._v(" "),e("li",[e("a",{attrs:{href:"https://www.longqi.cf/tools/2015/02/13/ffmpegcn/",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://www.longqi.cf/tools/2015/02/13/ffmpegcn/"),e("OutboundLink")],1)]),a._v(" "),e("li",[e("a",{attrs:{href:"http://einverne.github.io/post/2015/12/ffmpeg-first.html#ffmpeg-usage",target:"_blank",rel:"noopener noreferrer"}},[a._v("http://einverne.github.io/post/2015/12/ffmpeg-first.html#ffmpeg-usage"),e("OutboundLink")],1)]),a._v(" "),e("li",[e("a",{attrs:{href:"https://www.twblogs.net/a/5c9a26bfbd9eee434fc6c81b/zh-cn",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://www.twblogs.net/a/5c9a26bfbd9eee434fc6c81b/zh-cn"),e("OutboundLink")],1)]),a._v(" "),e("li",[e("a",{attrs:{href:"https://wklchris.github.io/FFmpeg.html#%E8%A7%86%E9%A2%91%E5%8F%82%E6%95%B0",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://wklchris.github.io/FFmpeg.html#%E8%A7%86%E9%A2%91%E5%8F%82%E6%95%B0"),e("OutboundLink")],1)]),a._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/tonydeng/fmj/blob/master/ffmpeg.md#%e6%b7%bb%e5%8a%a0%e5%ad%97%e5%b9%95",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://github.com/tonydeng/fmj/blob/master/ffmpeg.md#%e6%b7%bb%e5%8a%a0%e5%ad%97%e5%b9%95"),e("OutboundLink")],1)]),a._v(" "),e("li",[e("a",{attrs:{href:"https://www.ancii.com/arzmnzdzz/",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://www.ancii.com/arzmnzdzz/"),e("OutboundLink")],1)]),a._v(" "),e("li",[e("a",{attrs:{href:"https://www.jianshu.com/p/d6480c6ea6bd",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://www.jianshu.com/p/d6480c6ea6bd"),e("OutboundLink")],1)]),a._v(" "),e("li",[e("a",{attrs:{href:"http://trac.ffmpeg.org/wiki/Concatenate",target:"_blank",rel:"noopener noreferrer"}},[a._v("http://trac.ffmpeg.org/wiki/Concatenate"),e("OutboundLink")],1)]),a._v(" "),e("li",[e("a",{attrs:{href:"https://www.linmao.dev/joy/868/#i-3",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://www.linmao.dev/joy/868/#i-3"),e("OutboundLink")],1)])])])}),[],!1,null,null,null);e.default=r.exports}}]);