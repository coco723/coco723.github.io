# 基于WebAssembly的H265播放


## 为什么视频编码很重要

例子： 540 * 960的视屏，每秒15帧，1分钟的数据量

一帧：
540 * 960 * 8 * 3

一分钟bit

540 * 960 * 8 * 3 * 15 * 60

540 * 960 * 8 * 3 * 15 * 60 /8 /1024/1024 = 1334Mb

### 1. 视频编码主要做什么：压缩视频尺寸

编码类型： H264
视频原尺寸: 1334Mb
压缩后尺寸：11Mb
压缩率：120倍

### 2. 带宽费用： < 1%

## 视频编码技术的发展

![](https://gcc68.oss-cn-hangzhou.aliyuncs.com/2019-12-20-%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202019-12-20%20%E4%B8%8B%E5%8D%881.58.05.png)

## 为什么选择H.265

优点

- 视频画质更高
- 压缩率更高
- 码率要求更低

缺点：

- 浏览器支持情况差

## 方案选型

1. 最终方案： FLV + WebAssembly + FFMpeg + H.265
2. FFMpeg: 跨平台的音视频录制、转码解决方案
3. WebAssembly：可在浏览器运行的高性能模块；

## 直播通用架构

![](https://gcc68.oss-cn-hangzhou.aliyuncs.com/2019-12-20-%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202019-12-20%20%E4%B8%8B%E5%8D%882.06.57.png)

