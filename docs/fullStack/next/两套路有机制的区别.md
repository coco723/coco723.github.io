---
title: App Router 和 Pages Router 的区别
---

在 Next.js 中，**App Router** 和 **Pages Router** 是两种不同的路由机制，它们各自有不同的特性和用法。以下是它们的主要区别：

### 1. **目录结构**

- **Pages Router**:
  - 基于 `pages` 目录，文件和目录的结构直接对应于路由。
  - 每个 `.js`、`.jsx`、`.ts` 或 `.tsx` 文件都会自动成为一个路由。

- **App Router**:
  - 使用 `app` 目录，支持更复杂的目录结构和布局。
  - 可以在 `app` 目录中创建嵌套路由，支持更灵活的页面和组件组合。

### 2. **布局和嵌套路由**

- **Pages Router**:
  - 布局通常需要在每个页面文件中手动实现，使用 `Layout` 组件较为繁琐。
  - 不支持嵌套路由。

- **App Router**:
  - 支持定义布局组件，允许多个页面共享相同的布局。
  - 允许嵌套路由，便于管理复杂的页面结构。

### 3. **数据获取**

- **Pages Router**:
  - 使用 `getStaticProps` 和 `getServerSideProps` 等方法进行数据获取。
  - 数据获取与页面逻辑耦合在一起。

- **App Router**:
  - 引入了 `fetch` 和 `async` 功能，可以更灵活地在组件内部处理数据获取。
  - 支持 Server Components 和 Client Components，使得数据获取可以在组件级别进行更精细的控制。

### 4. **文件命名和路由参数**

- **Pages Router**:
  - 使用方括号（`[]`）来定义动态路由参数，例如 `pages/[id].js`。
  
- **App Router**:
  - 同样使用方括号，但支持更灵活的参数配置，结合布局和嵌套路由。

### 5. **页面的级别和可组合性**

- **Pages Router**:
  - 主要用于简单的页面结构，不够灵活。

- **App Router**:
  - 允许在页面、布局和组件之间更好地进行组合，支持更复杂的应用结构。

### 6. **开发体验**

- **Pages Router**:
  - 相对简单，易于上手，适合小型项目或较简单的应用。

- **App Router**:
  - 提供更好的开发体验，特别是对于大型项目或需要复杂路由和布局的应用。

### 总结

- **Pages Router** 适合简单的应用和快速开发，适合对路由结构要求不高的项目。
- **App Router** 更加灵活，适合复杂应用和需要多层布局的场景，提供了更丰富的功能和更好的开发体验。

根据项目需求选择合适的路由机制，可以提高开发效率和代码组织结构。